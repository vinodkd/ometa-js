#!/usr/bin/env bash

# ometa launcher

if [ "$OMETAJS_RUNTIME" == "" ]
then
	echo \$OMETAJS_RUNTIME not set, using rhino.
	export OMETAJS_RUNTIME=rhino
fi

if [ "$OMETAJS_INSTALL_DIR" == "" ]
then
	echo Need the location of OmetaJS Installation to continue.
	echo Set \$OMETAJS_INSTALL_DIR to that location \(minus the trailing slash\).
	exit -1
fi

if [ $# -ne 3  ]
then
	echo Usage: `basename $0` grammar.ometajs rule sourcefile
	exit -2
fi

$OMETAJS_INSTALL_DIR/bin/ometa-$OMETAJS_RUNTIME $@
